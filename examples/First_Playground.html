<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Tonejs in NAframe</title>
    <meta name="description" content="Networked Aframe + Tone.js">
    <link rel="shortcut icon" href="/img/icon.png">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.4.0/socket.io.slim.js"></script>
    <!--<script src="https://unpkg.com/socket.io-client@^2.4.0/dist/socket.io.js"></script>-->
    <script src="/easyrtc/easyrtc.js"></script>
    <script src="/dist/networked-aframe.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.3.3/dist/aframe-environment-component.min.js"></script>
    <script src="https://unpkg.com/tone@~14.7.77"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script
        src="https://unpkg.com/aframe-randomizer-components@^3.0.1/dist/aframe-randomizer-components.min.js"></script>
    <script
        src="https://cdn.jsdelivr.net/gh/IdeaSpaceVR/aframe-particle-system-component@master/dist/aframe-particle-system-component.min.js"></script>
    <script src="https://rawgit.com/rdub80/aframe-gui/master/dist/aframe-gui.min.js"></script>
    <script src="/js/spawn-in-circle.component.js"></script>
    <script src="/js/sound_generators.js"></script>
    <script src="/js/message_system.js"></script>
    <script src="/js/position_spatial_manager.js"></script>
    <!--<script src="/js/handTrackerManager.js"></script>-->
    <script src="/js/persistent-p2p.component.js"></script>

    <script src="/js/sequencer.js"></script>

    <!-- Extras - NAF options -->
    

    <!--    used for flying in this demo  -->
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script> 
    <script>
        // Hypnos-phi/aframe-extras@37fd255 is https://github.com/n5ro/aframe-extras/pull/373
        // Also waiting https://github.com/n5ro/aframe-extras/pull/377 to be merged
        // Redefine the alias for now:
        THREE.Math = THREE.MathUtils;
      </script>
      <script src="https://cdn.jsdelivr.net/gh/Hypnos-phi/aframe-extras@37fd255/dist/aframe-extras.controls.min.js"></script>

    <script src="../server/easyrtc-server.js"></script> <!-- <<------ -->

  
    
    <script>NAF.options.updateRate = 15; //default 15, around 10-20 for multiusers...1000ms /30 = 33.3</script> 
    <!-- Lerp -->
    <script>NAF.options.useLerp = true;</script>

    

    <script>
        
        // always register components before your scene
      AFRAME.registerComponent('tracked-vr-hands', {
        onEnterVR() {
          if (AFRAME.utils.device.isMobile()) return; // exclude e.g. cardboard, which lacks tracked controllers
          if (document.getElementById('my-tracked-right-hand')) return; // don't add them in more than once!
          // add these with JS:
          // <a-entity hand-controls="hand:left" networked="template:#left-hand-template;attachTemplateToLocal:true;"></a-entity>
          // <a-entity hand-controls="hand:right" networked="template:#right-hand-template;attachTemplateToLocal:true;"></a-entity>
          ['left', 'right'].forEach((side) => {
            const el = document.createElement('a-entity');
            el.setAttribute('hand-controls', { hand: side });
            el.setAttribute('networked', { template: `#${side}-hand-template`, attachTemplateToLocal: false });
            el.setAttribute('id', `my-tracked-${side}-hand`);
            // note that the ID will be applied to THIS client's hands,
            // but not other connected clients,
            // and not on the machine of other connected clients
            this.el.appendChild(el);
          });
        },
        init() {
          this.el.sceneEl.addEventListener('enter-vr', this.onEnterVR.bind(this));
          // future improvements:
          // pick up hand-controls events
          // https://github.com/aframevr/aframe/blob/b164623dfa0d2548158f4b7da06157497cd4ea29/docs/components/hand-controls.md
          // and broadcast the matching gestures to other connected clients
          // possibly trigger the animation on the model itself using animation-mixer:
          // https://github.com/n5ro/aframe-extras/tree/master/src/loaders
          // could add as 'networked-hands' component within repo
        }
      });

        // see issue https://github.com/networked-aframe/networked-aframe/issues/267

        NAF.schemas.getComponents = (template) => {
            if (!NAF.schemas.hasTemplate("#avatar-template")) {
                NAF.schemas.add({
                    template: '#avatar-template',
                    components: [
                        'position',
                        'rotation',
                        {
                            selector: '.head',
                            component: 'material',
                            property: 'color'
                        }
                    ]
                });
            }
            if (!NAF.schemas.hasTemplate("#cube-template")) {
                NAF.schemas.add({
                    template: '#cube-template',
                    components: [
                        "position",
                        "material"
                    ]
                });
            }
            if (!NAF.schemas.hasTemplate("#gui-template")) {
                NAF.schemas.add({
                    template: '#gui-template',
                    components: [
                        "position",
                        "material",
                        "id"
                    ]
                });
            }
            const components = NAF.schemas.getComponentsOriginal(template);
            return components;
        }
    </script>





</head>

<body>

    <a-scene persistent-p2p networked-scene="
                          room: persistent-peer-to-peer; 
                          debug: true; 
                          audio: true; 
                          adapter: easyrtc;
                          ">

        <!-- socketio //// package.json - "start": "node ./server/socketio-server.js"-->
        <!-- easyrtc //// package.json "start": "node ./server/easyrtc-server.js" -->
        
                          
        <!--movement-controls="fly:true;"-->

        <!-- tracked-vr-hands-->
        <a-entity 
            id="cameraRig" 
            movement-controls="speed:0.3;" 
            tracked-vr-hands
            spawn-in-circle="radius:3" 
            networked="template:#camera-rig-template;"     
        >
        <!--  User + Camera  Moved over assets to prevent the injection of another camera  -->
        <a-entity id="player" 
            networked="template: #avatar-template; attachTemplateToLocal: false;" 
            camera position="0 1.6 0" 
            position-listener 
            > <!--         spawn-in-circle="radius:3" movement-controls="fly:true;" wasd-controls look-controls position-listener
                tracked-vr-hands --> <!--click-->
            <a-cursor color="yellow" intersection-spawn="event: click; template: #cube-template; template2: #gui-template"></a-cursor>
            <a-sphere class="head" visible="false" random-color></a-sphere>
            <!--<a-asset-item src="./assets/CustomAvatar.glb" class="head" visible="false"></a-asset-item>-->

            
        </a-entity>
        </a-entity>

        

        <!-- Templates -->
        <a-assets>

            <a-asset-item id="left-hand-model" src="./assets/leftHandHigh.glb"></a-asset-item>
            <a-asset-item id="right-hand-model" src="./assets/rightHandHigh.glb"></a-asset-item>

            <!--  Background Template  -->
            <img id="groundTexture" src="https://cdn.aframe.io/a-painter/images/floor.jpg" crossorigin="anonymous">
            <img id="skyTexture" src="https://cdn.aframe.io/a-painter/images/sky.jpg" crossorigin="anonymous">



            <!-- Camera Rig / Player -->
            <template id="camera-rig-template">
                <a-entity></a-entity>
            </template>


            <!-- Avatar Template  -->
            <template id="avatar-template">
                <a-entity class="avatar" networked-audio-source>
                    <!-- HEAD --> 
                        <a-sphere class="head" scale="0.2 0.2 0.2"></a-sphere>
                    
                    <!--<a-entity class="head" gltf-model="#avatar" scale="1 1 1" position="0 -0.7 0"></a-entity>-->
                    <a-entity class="face" position="0 1 0">
                    <!-- EYES -->
                        <a-sphere class="eye" color="#efefef" position="0.07 -1 -0.16" scale="0.05 0.05 0.05">
                            <a-sphere class="pupil" color="#000" position="0 0 -1" scale="0.2 0.2 0.2"></a-sphere>
                        </a-sphere>
                        <a-sphere class="eye" color="#efefef" position="-0.07 -1 -0.16" scale="0.05 0.05 0.05">
                            <a-sphere class="pupil" color="#000" position="0 0 -1" scale="0.2 0.2 0.2"></a-sphere>
                        </a-sphere>
                    </a-entity>
                </a-entity>
            </template>

            <!-- Hands -->
            <template id="left-hand-template">
             <a-entity>
                <a-gltf-model class="tracked-left-hand" rotation="0 0 90" src="#left-hand-model"></a-gltf-model>
             </a-entity>
            </template>
  
            <template id="right-hand-template">
             <a-entity>
                <a-gltf-model class="tracked-right-hand" rotation="0 0 -90" src="#right-hand-model"></a-gltf-model>
             </a-entity>
            </template>

            <!--  Cube Template  -->
            <template id="cube-template">
                <!--<a-entity geometry="primitive: box; height: 0.5; depth: 0.5; width: 0.5" material="color: #DC3220" index
                    polysynth></a-entity>-->
                    <a-entity geometry="primitive: sphere; radius: 0.3" material="color: #DC3220" index
                    polysynth></a-entity>
            </template>

            <!-- GUI Template  -->
            <template id="gui-template">
                <a-entity indexgui>

                    <!--Volume-->
                    <!-- Panel -->
                    <a-box position="-2.1 0.25 0" depth="0.1" height="0.5" width="0.6" color="#88CCEE"></a-box>
                    <!--<a-text position="-1.3 2.7 0.1" color="#000" value="Common GUI"></a-text>-->
                    <!-- Volume -->
                    <!--<a-entity test-it>-->
                    <a-entity test-it>
                        <a-text position="-2.29 0.36 0.1" color="#000" value="Volume" scale="0.35 0.35 0.35"></a-text>
                        <a-box position="-2.18 0.2 0.1" color="#882255" depth="0.025" height="0.1" width="0.1"
                            setting-changer="settingindex: 0; action: sub"></a-box>
                        <a-box position="-1.99 0.2 0.1" color="#117733" depth="0.025" height="0.1" width="0.1"
                            setting-changer="settingindex: 0; action: add"></a-box>
                        <a-text position="-1.99 0.36 0.1" color="#000" depth="0.2" value="Num"
                            text-changer="settingindex: 0" scale="0.35 0.35 0.35"></a-text>
                    </a-entity>

                    <!--<a-text position="-1.3 1.2 0.1" color="#000" value="Envelope GUI"></a-text> -->

                    <!--ADSR-->

                    <!-- Panel -->
                    <a-box position="0.0 -0.45 0" depth="0.1" height="0.7" width="1.2" color="#88CCEE"></a-box>
                    <!--<a-text position="-1.3 2.7 0.1" color="#000" value="Common GUI"></a-text>-->

                    <!-- Attack -->
                    <a-entity>
                        <a-text position="-0.45 -0.23 0.1" color="#000" value="Attack" scale="0.35 0.35 0.35"></a-text>
                        <a-box position="0.1 -0.23 0.1" color="#882255" depth="0.025" height="0.1" width="0.1"
                            setting-changer="settingindex: 1; action: sub"></a-box>
                        <a-box position="0.25 -0.23 0.1" color="#117733" depth="0.025" height="0.1" width="0.1"
                            setting-changer="settingindex: 1; action: add"></a-box>
                        <a-text position="0.35 -0.23 0.1" color="#000" depth="0.2" value="Num"
                            text-changer="settingindex: 1" scale="0.35 0.35 0.35"></a-text>
                    </a-entity>

                    <!-- Decay -->
                    <a-entity>
                        <a-text position="-0.45 -0.36 0.1" color="#000" value="Decay" scale="0.35 0.35 0.35"></a-text>
                        <a-box position="0.1 -0.36 0.1" color="#882255" depth="0.025" height="0.1" width="0.1"
                            setting-changer="settingindex: 2; action: sub"></a-box>
                        <a-box position="0.25 -0.36 0.1" color="#117733" depth="0.025" height="0.1" width="0.1"
                            setting-changer="settingindex: 2; action: add"></a-box>
                        <a-text position="0.35 -0.36 0.1" color="#000" depth="0.2" value="Num"
                            text-changer="settingindex: 2" scale="0.35 0.35 0.35"></a-text>
                    </a-entity>

                    <!-- Sustain -->
                    <a-entity>
                        <a-text position="-0.45 -0.5 0.1" color="#000" value="Sustain" scale="0.35 0.35 0.35"></a-text>
                        <a-box position="0.1 -0.5 0.1" color="#882255" depth="0.025" height="0.1" width="0.1"
                            setting-changer="settingindex: 3; action: sub"></a-box>
                        <a-box position="0.25 -0.5 0.1" color="#117733" depth="0.025" height="0.1" width="0.1"
                            setting-changer="settingindex: 3; action: add"></a-box>
                        <a-text position="0.35 -0.5 0.1" color="#000" depth="0.2" value="Num"
                            text-changer="settingindex: 3" scale="0.35 0.35 0.35"></a-text>
                    </a-entity>

                    <!-- Release -->
                    <a-entity>
                        <a-text position="-0.45 -0.65 0.1" color="#000" value="Release" scale="0.35 0.35 0.35"></a-text>
                        <a-box position="0.1 -0.65 0.1" color="#882255" depth="0.025" height="0.1" width="0.1"
                            setting-changer="settingindex: 4; action: sub"></a-box>
                        <a-box position="0.25 -0.65 0.1" color="#117733" depth="0.025" height="0.1" width="0.1"
                            setting-changer="settingindex: 4; action: add"></a-box>
                        <a-text position="0.35 -0.65 0.1" color="#000" depth="0.2" value="Num"
                            text-changer="settingindex: 4" scale="0.35 0.35 0.35"></a-text>
                    </a-entity>

                    <!--EFFECTS-->
                    <!-- Panel -->
                    <a-box position="0.0 0.35 0" depth="0.1" height="0.6" width="1.2" color="#88CCEE"></a-box>
                    <!--<a-text position="-1.3 2.7 0.1" color="#000" value="Common GUI"></a-text>-->

                    <!-- OTHER -->
                    <a-entity>
                        <a-text position="-0.45 0.5 0.1" color="#000" value="Filter Freq" scale="0.35 0.35 0.35"></a-text>
                        <a-box position="0.1 0.5 0.1" color="#882255" depth="0.025" height="0.1" width="0.1"
                            setting-changer="settingindex: 5; action: sub"></a-box>
                        <a-box position="0.25 0.5 0.1" color="#117733" depth="0.025" height="0.1" width="0.1"
                            setting-changer="settingindex: 5; action: add"></a-box>
                        <a-text position="0.35 0.5 0.1" color="#000" depth="0.2" value="Num"
                            text-changer="settingindex: 5" scale="0.35 0.35 0.35"></a-text>
                    </a-entity>

                    <a-entity>
                        <a-text position="-0.45 0.31 0.1" color="#000" value="Filter Q" scale="0.35 0.35 0.35"></a-text>
                        <a-box position="0.1 0.31 0.1" color="#882255" depth="0.025" height="0.1" width="0.1"
                            setting-changer="settingindex: 6; action: sub"></a-box>
                        <a-box position="0.25 0.31 0.1" color="#117733" depth="0.025" height="0.1" width="0.1"
                            setting-changer="settingindex: 6; action: add"></a-box>
                        <a-text position="0.35 0.31 0.1" color="#000" depth="0.2" value="Num"
                            text-changer="settingindex: 6" scale="0.35 0.35 0.35"></a-text>
                    </a-entity>

                    <!-- Distortion -->
                    <a-entity>
                        <a-text position="-0.45 0.15 0.1" color="#000" value="Distortion" scale="0.35 0.35 0.35"></a-text>
                        <a-box position="0.1 0.15 0.1" color="#882255" depth="0.025" height="0.1" width="0.1"
                            setting-changer="settingindex: 7; action: sub"></a-box>
                        <a-box position="0.25 0.15 0.1" color="#117733" depth="0.025" height="0.1" width="0.1"
                            setting-changer="settingindex: 7; action: add"></a-box>
                        <a-text position="0.35 0.15 0.1" color="#000" depth="0.2" value="Num"
                            text-changer="settingindex: 7" scale="0.35 0.35 0.35"></a-text>
                    </a-entity>


                    <!--WAVES-->
                    <!-- Panel -->
                    <a-box position="-1.2 0.25 0" depth="0.1" height="0.5" width="1" color="#88CCEE"></a-box>
                    <!--<a-text position="-1.3 2.7 0.1" color="#000" value="Common GUI"></a-text>-->

                    <!-- OTHER2 -->
                    <a-entity>
                        <a-text position="-1.6 0.23 0.1" color="#000" value="Square Wave" scale="0.35 0.35 0.35"></a-text>
                        <a-box position="-0.9 0.23 0.1" color="#882255" depth="0.025" height="0.1" width="0.1"
                            setting-changer="settingindex: 9; action: sub"></a-box>
                        <!--<a-box position="0.25 0.35 0.1" color="#117733" depth="0.025" height="0.1" width="0.1"
                            setting-changer="settingindex: 0; action: add"></a-box>-->
                        <!--<a-text position="0.35 0.35 0.1" color="#000" depth="0.2" value="Num"
                            text-changer="settingindex: 0" scale="0.35 0.35 0.35"></a-text>-->
                    </a-entity>
                    <!-- OTHER3 -->
                    <a-entity>
                        <a-text position="-1.6 0.36 0.1" color="#000" value="Sine Wave" scale="0.35 0.35 0.35"></a-text>
                        <a-box position="-0.9 0.36 0.1" color="#882255" depth="0.025" height="0.1" width="0.1"
                            setting-changer="settingindex: 8; action: sub"></a-box>
                        <!--<a-box position="0.25 -0.75 0.1" color="#117733" depth="0.025" height="0.1" width="0.1"
                            setting-changer="settingindex: 8; action: add"></a-box>-->
                        <!--<a-text position="0.35 -0.75 0.1" color="#000" depth="0.2" value="Num"
                            text-changer="settingindex: 8" scale="0.35 0.35 0.35"></a-text>-->
                    </a-entity>
                    <!-- OTHER3 -->
                    <a-entity>
                        <a-text position="-1.6 0.1 0.1" color="#000" value="Sawtooth Wave" scale="0.35 0.35 0.35"></a-text>
                        <a-box position="-0.9 0.1 0.1" color="#882255" depth="0.025" height="0.1" width="0.1"
                            setting-changer="settingindex: 10; action: sub"></a-box>
                        <!--<a-box position="0.25 -0.75 0.1" color="#117733" depth="0.025" height="0.1" width="0.1"
                            setting-changer="settingindex: 8; action: add"></a-box>-->
                        <!--<a-text position="0.35 -0.75 0.1" color="#000" depth="0.2" value="Num"
                            text-changer="settingindex: 8" scale="0.35 0.35 0.35"></a-text>-->
                    </a-entity>

                    
                </a-entity>
            </template>

            <!--  Note Selectors Template  -->
            <!--<a-asset-item id="left-hand-model" src="./assets/leftHandHigh.glb"></a-asset-item>-->
             <!--<a-asset-item id="right-hand-model" src="./assets/rightHandHigh.glb"></a-asset-item>-->
             <a-asset-item id="plus-obj" src="./assets/plus.obj"></a-asset-item>
             <a-asset-item id="a-obj" src="./assets/note_A.glb"></a-asset-item>
             <a-asset-item id="b-obj" src="./assets/note_B.glb"></a-asset-item>
             <a-asset-item id="c-obj" src="./assets/note_C.glb"></a-asset-item>
             <a-asset-item id="d-obj" src="./assets/note_D.glb"></a-asset-item>
             <a-asset-item id="e-obj" src="./assets/note_E.glb"></a-asset-item>
             <a-asset-item id="f-obj" src="./assets/note_F.glb"></a-asset-item>
             <a-asset-item id="g-obj" src="./assets/note_G.glb"></a-asset-item>

            <!--MY-AVATAR-->
            <a-asset-item id="avatar" src="./assets/CustomAvatar.glb"></a-asset-item>



            <!-- Hands -->
            <!-- <a-entity 
                    networked-hand-controls="hand:left;color:gold;"networked="template:#left-hand-default-template">
                </a-entity> -->
            <!-- <a-gltf-model class="tracked-left-hand" rotation="0 0 90" src="#left-hand-model"></a-gltf-model> -->
            <template id="left-hand-template" networked="template:#left-hand-template">
                <!--<a-entity networked-hand-controls="hand:left;handModelStyle:controller;"networked="template:#left-hand-default-template"></a-entity>-->
               <!-- tracked hand Left-->
               <a-entity>
               <a-gltf-model class="tracked-left-hand" rotation="0 0 90" position="0 0 0" src="#left-hand-model"></a-gltf-model>
               </a-entity> 
               <!-- oculus controllers -->
               
               
           </template>

           <!-- <a-gltf-model class="tracked-right-hand" rotation="0 0 -90" src="#right-hand-model"></a-gltf-model> -->
           <!--<a-entity
               networked-hand-controls="hand:right;handModelStyle:controller;"
         networked="template:#right-hand-default-template">
               </a-entity>-->
           <template id="right-hand-template" networked="template:#right-hand-template" >
                <!--<a-entity networked="template:#right-hand-template">-->
                 <!--<a-entity networked-hand-controls="hand:right;handModelStyle:controller;"networked="template:#right-hand-default-template">-->
              <!-- tracked hand right-->
               <a-entity>
                   <a-gltf-model class="tracked-right-hand" rotation="0 0 -90" position="0 0 0" src="#right-hand-model"></a-gltf-model>
               </a-entity>
               
               
           </template>


        </a-assets>




        <!--  Background  -->
        <a-cylinder id="ground" src="#groundTexture" radius="30" height="0.1"></a-cylinder>
        <a-sky id="background" src="#skyTexture" theta-length="90" radius="30"></a-sky>
        <a-entity light="type: ambient; color: #CCC"></a-entity>

        <!-- Metronome click on sphere to activate-->
        <!--<a-sphere id="metronome" position="3 1.25 0" radius="1.25" color="#EF2D5E" step-seq="bpmvalue: 90" ></a-sphere>-->
        
        <!--Environment-->
        <!--<a-entity light="type: ambient; color: #CCC"></a-entity>
        <a-entity environment="preset: tron; groundColor: #445; grid: cross"></a-entity>-->


        <!-- Note Selectors -->
        <!--
        <a-entity gltf-model="#a-obj" scale="0.5 0.5 0.5" position="-2 1 -3" note-mem="addnota: A"></a-entity> 
        <a-entity gltf-model="#b-obj" scale="0.5 0.5 0.5" position="0 1 -3" note-mem="addnota: B"></a-entity> 
        <a-entity gltf-model="#c-obj" scale="0.5 0.5 0.5" position="-12 1 -3" note-mem="addnota: C"></a-entity> 
        <a-entity gltf-model="#d-obj" scale="0.5 0.5 0.5" position="-10 1 -3" note-mem="addnota: D"></a-entity> 
        <a-entity gltf-model="#e-obj" scale="0.5 0.5 0.5" position="-8 1 -3" note-mem="addnota: E"></a-entity> 
        <a-entity gltf-model="#f-obj" scale="0.5 0.5 0.5" position="-6 1 -3" note-mem="addnota: F"></a-entity> 
        <a-entity gltf-model="#g-obj" scale="0.5 0.5 0.5" position="-4 1 -3" note-mem="addnota: G"></a-entity> 
        -->

        <a-entity geometry="primitive: sphere" position="-12 1 -3" material="side: double; color: #2d7eef; transparent: true; opacity: 0.5" scale="0.8 0.8 0.8" note-mem="addnota: C"></a-entity>
        <a-entity gltf-model="#c-obj" scale="0.95 0.95 0.95" position="-12 1 -3" ></a-entity>

        <a-entity geometry="primitive: sphere" position="-10 1 -3" material="side: double; color: #2d7eef; transparent: true; opacity: 0.5" scale="0.8 0.8 0.8" note-mem="addnota: D"></a-entity>
        <a-entity gltf-model="#d-obj" scale="0.95 0.95 0.95" position="-10 1 -3"></a-entity>

        <a-entity geometry="primitive: sphere" position="-8 1 -3" material="side: double; color: #2d7eef; transparent: true; opacity: 0.5" scale="0.8 0.8 0.8" note-mem="addnota: E"> </a-entity>
        <a-entity gltf-model="#e-obj" scale="0.95 0.95 0.95" position="-8 1 -3"></a-entity>

        <a-entity geometry="primitive: sphere" position="-6 1 -3" material="side: double; color: #2d7eef; transparent: true; opacity: 0.5" scale="0.8 0.8 0.8" note-mem="addnota: F"></a-entity>
        <a-entity gltf-model="#f-obj" scale="0.95 0.95 0.95" position="-6 1 -3"></a-entity>

        <a-entity geometry="primitive: sphere" position="-4 1 -3" material="side: double; color: #2d7eef; transparent: true; opacity: 0.5" scale="0.8 0.8 0.8" note-mem="addnota: G"></a-entity>
        <a-entity gltf-model="#g-obj" scale="0.95 0.95 0.95" position="-4 1 -3"></a-entity>

        <a-entity geometry="primitive: sphere" position="-2 1 -3" material="side: double; color: #2d7eef; transparent: true; opacity: 0.5" scale="0.8 0.8 0.8" note-mem="addnota: A"></a-entity>
        <a-entity gltf-model="#a-obj" scale="0.95 0.95 0.95" position="-2 1 -3"></a-entity>

        <a-entity geometry="primitive: sphere" position="0 1 -3" material="side: double; color: #2d7eef; transparent: true; opacity: 0.5" scale="0.8 0.8 0.8" note-mem="addnota: B"></a-entity>
        <a-entity gltf-model="#b-obj" scale="0.95 0.95 0.95" position="0 1 -3"></a-entity>



        <!--  Array Infos  -->
        <a-text position="2.1 2.5 -3" color="#FFF" value="Octave Selected:"></a-text>
        <a-text position="4.0 2.5 -3" color="#FFF" value="4" id="valoreottava"></a-text>

        <a-text position="-6 2.5 -3" color="#FFF" value="Note Selected:"></a-text>
        <a-text position="-4.3 2.5 -3" color="#FFF" value="" id="notebox"></a-text>

        <!--  Octave Changer  -->
        <!--<a-text position="2.3 2.5 -3" color="#FFF" value="Reduce Octave"></a-text>-->
        <!--<a-text position="5.3 2.5 -3" color="#FFF" value="Increase Octave"></a-text>-->
        
        <a-entity material="color: red" geometry="primitive: box" position="3 1 -3" scale="0.4 0.2 0.2"
            change-octave="action: sub"></a-entity>
        <a-entity obj-model="obj: #plus-obj" position="4 1 -3" rotation="90 0 0" scale="0.1 0.1 0.1"
            change-octave="action: add"></a-entity>

        <!--  Array Cleaner  -->
        <!--<a-text position="8.3 2.5 -3" color="#FFF" value="Clean Array"></a-text>-->
        <a-entity material="color: orange" geometry="primitive: sphere" position="6 1 -3" clear-array scale="0.5 0.5 0.5"></a-entity>

        Tone.start();

       
    </a-scene>


    <!--  External GUI 
    <form style="position: absolute; top: 5px; border: 0; right: 5px;">
        <label id="valoreottava" style="color: white;">Ottava selezionata: 4</label>
        <br>
        <input id="notebox" autocomplete="off" disabled type="text"
            style="width: 200px; background: lightgray; color: black;">
    </form> -->


</body>

</html>